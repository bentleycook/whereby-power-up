{"version":3,"sources":["../js/modules/localizationSettings.js","../js/connector.js"],"names":["defaultLocale","supportedLocales","resourceUrl","showSettings","t","popup","title","localizeKey","url","getBoardButton","get","then","roomName","button","icon","text","baseUrl","callback","window","TrelloPowerUp","initialize","localization","localizationSettings"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACbA,cAAe,KACfC,iBAAkB,CAAA,KAMhB,MAmBFC,YAAa,mBA3BA,QAAA,QAAA;;AC+Bf,aA/BA,IAAA,EAAA,EAAA,QAAA,mCA+BA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA7BA,IAAMC,EAAe,SAAAC,GACnB,OACAA,EAAEC,MAAM,CACNC,MAAOF,EAAEG,YAAY,oBACrBC,IAAK,qBAGHC,EAAiB,SAAAL,GAEdA,OAAAA,EAAEM,IAAI,QAAS,SAAU,YAAYC,KAAK,SAAAC,GACzCC,IAAAA,EAAS,CACbC,KAAM,qBACNC,KAAMX,EAAEG,YAAY,YAGlBK,GAAAA,EAAU,CAGZC,EAAOL,IAASQ,GAAAA,OAFA,wBAEUJ,OAAAA,QAI1BC,EAAOI,SAAWd,EAGb,MAAA,CAACU,MAIZK,OAAOC,cAAcC,WACnB,CACmBX,gBAAAA,EACAN,gBAAAA,GAEnB,CACEkB,aAAcC,EAAAA","file":"connector.b8a1bf78.js","sourceRoot":"../src/html","sourcesContent":["export default {\n  defaultLocale: 'en',\n  supportedLocales: [\n    // Uncomment locales as you support them by adding\n    // string .json files to /strings/ directory.\n    // 'cs',\n    // 'de',\n    'en',\n    'es',\n    // 'fi',\n    // 'fr',\n    // 'hu',\n    // 'it',\n    // 'ja',\n    // 'nb',\n    // 'nl',\n    // 'pl',\n    // 'pt-BR',\n    // 'ru',\n    // 'sv',\n    // 'th',\n    // 'tr',\n    // 'uk',\n    // 'vi',\n    // 'zh-Hans',\n    // 'zh-Hant',\n  ],\n  resourceUrl: './{locale}.json',\n};\n","import localizationSettings from './modules/localizationSettings';\n\nconst showSettings = t =>\n  // Open our settings iframe with a localized Title\n  t.popup({\n    title: t.localizeKey('whereby-settings'),\n    url: './settings.html',\n  });\n\nconst getBoardButton = t => {\n  // Get the saved roomName out of Power-Up storage\n  return t.get('board', 'shared', 'roomName').then(roomName => {\n    const button = {\n      icon: './whereby-icon.svg',\n      text: t.localizeKey('whereby'),\n    };\n\n    if (roomName) {\n      const baseUrl = 'https://whereby.com/';\n      // Set Board Button's URL to be the room name\n      button.url = `${baseUrl}${roomName}`;\n    } else {\n      // Without room a name, ask the user to set one when they\n      // click on the board button.\n      button.callback = showSettings;\n    }\n\n    return [button];\n  });\n};\n\nwindow.TrelloPowerUp.initialize(\n  {\n    'board-buttons': getBoardButton,\n    'show-settings': showSettings,\n  },\n  {\n    localization: localizationSettings,\n  }\n);\n"]}